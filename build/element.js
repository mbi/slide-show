/* <slide-show> 
   2.0.0
   By Stephen Band
   Built 2022-04-20 14:37 */

var ze=Object.defineProperty;var V=(t,e)=>{for(var n in e)ze(t,n,{get:e[n],enumerable:!0})};function $(t){var e=new Map;return function(o){if(e.has(o))return e.get(o);var r=t(o);return e.set(o,r),r}}var Ge=Array.prototype;function _e(t,e){return typeof t=="function"?t.apply(null,e):t}function Rt(t,e,n){n=n||t.length;var o=n===1?e?t:$(t):$(function(r){return Rt(function(){var i=[r];return i.push.apply(i,arguments),t.apply(null,i)},e,n-1)});return function r(i){return arguments.length===0?r:arguments.length===1?o(i):arguments.length>=n?t.apply(null,arguments):_e(o(i),Ge.slice.call(arguments,1))}}var w=Rt;function Re(t,e){return 1-Math.pow(1-e,t)}var Vt=w(Re);function v(){}function at(t,e){return e(t)}function F(t){return t}var Ve=Array.prototype;function lt(){let t=arguments;return t.length?e=>Ve.reduce.call(t,at,e):F}function pt(t,e,n){return n*(e-t)+t}var qe=window.performance,qt=window.requestAnimationFrame,Ue=window.cancelAnimationFrame;function ft(t,e,n){var o=qe.now();function r(s){var a=(s-o)/(t*1e3);a<1?(a>0&&e(a),i=qt(r)):(e(1),n&&n())}var i=qt(r);return function(){Ue(i)}}function X(t,e,n,o,r,i){let s=o[n];return ft(t,lt(e,a=>pt(s,r,a),a=>o[n]=a),i)}function We(){return{x:0,y:0,left:0,top:0,right:window.innerWidth,bottom:window.innerHeight,width:window.innerWidth,height:window.innerHeight}}function E(t){return t===window?We():t.getClientRects()[0]||t.getBoundingClientRect()}var D={scrollDuration:.3,scrollDurationPerHeight:.125,scrollTransform:Vt(3)},Ut=v;function Ne(t,e){if(e.behavior==="smooth"){let n=t.style.getPropertyValue("scroll-snap-type"),o=()=>t.style.setProperty("scroll-snap-type",n);if(t.style.setProperty("scroll-snap-type","none"),e.left!==void 0){let r=t===document.body?window.innerWidth:E(t).width,i=D.scrollDuration+D.scrollDurationPerHeight*Math.abs(e.left-t.scrollLeft)/r;Ut=X(i,D.scrollTransform,"scrollLeft",t,e.left,o)}else{let r=t===document.body?window.innerHeight:E(t).height,i=D.scrollDuration+D.scrollDurationPerHeight*Math.abs(e.top-t.scrollTop)/r;Ut=X(i,D.scrollTransform,"scrollTop",t,e.top,o)}}else e.left!==void 0&&(t.scrollLeft=e.left),e.top!==void 0&&(t.scrollTop=e.top)}if(!("scrollBehavior"in document.documentElement.style)){console.log("Polyfilling Element.scrollTo(options).");let t="scrollTo"in Element.prototype?Element:HTMLElement,e=t.scrollIntoView;t.prototype.scrollTo=function(n){typeof n=="object"?Ne(this,n):e.apply(this,arguments)}}function Wt(t,e){if(t===e)return!0;if(t===null||e===null||typeof t!="object"||typeof e!="object")return!1;let n=Object.keys(t),o=Object.keys(e),r=n.length;for(;r--;){if(t[n[r]]===void 0){if(e[n[r]]!==void 0)return!1}else if(!e.hasOwnProperty(n[r])||!Wt(t[n[r]],e[n[r]]))return!1;let i=o.indexOf(n[r]);i>-1&&o.splice(i,1)}for(r=o.length;r--;)if(e[o[r]]===void 0){if(t[o[r]]!==void 0)return!1}else return!1;return!0}var Nt=w(Wt,!0);var $e=Object.defineProperties,Xe=Object.freeze;function $t(){return this}var A=Xe($e([],{shift:{value:v},push:{value:v},each:{value:v},forEach:{value:v},start:{value:v},stop:{value:v},done:{value:v},join:{value:function(){return""}},map:{value:$t},filter:{value:$t},reduce:{value:function(t,e){return e}}}));function dt(t){return t&&t[Symbol.iterator]}var Ye=Object.assign;function Ke(t){return t.stop?t.stop():t()}function Ze(t){t.forEach(Ke),t.length=0}function I(){}Ye(I.prototype,{stop:function(){return this.stopables&&Ze(this.stopables),this},done:function(e){return(this.stopables||(this.stopables=[])).push(e),this}});var Qe=Object.assign;function Y(t){I.prototype.stop.apply(t);let e=-1,n;for(;n=t[++e];)t[e]=void 0,Y(n)}function m(){}Qe(m.prototype,{pipe:function(t){this[0]=t},stop:function(){Y(this[0])}});var Je=Array.prototype,tn=Object.assign;function C(t){this.buffer=t}tn(C.prototype,m.prototype,{pipe:function(t){for(this[0]=t;this.buffer.length;)t.push(Je.shift.apply(this.buffer))}});var en=Object.assign;function K(t){this.promise=t}en(K.prototype,m.prototype,{pipe:function(t){let e=this.promise;this[0]=t,e.then(n=>this[0].push(n)).finally(n=>this.stop())},stop:function(){m.prototype.stop.apply(this,arguments),this[0]=A}});var k=Object.assign,j=Object.create;function z(t,e){e!==void 0&&t[0].push(e)}function nn(t,e){if(t[1]){let n=-1;for(;t[++n]&&t[n]!==e;);for(;t[n++];)t[n-1]=t[n];Y(e)}else t.stop()}function f(t){this.input=t}k(f,{of:function(){return new f(new C(arguments))},from:function(t){return t.pipe?new f(t):t.then?new f(new K(t)):new f(new C(t))}});k(f.prototype,I.prototype,{push:function(t){this[0]?z(this,t):console.log("TODO: review, no output 0!")},pipe:function(t){if(this[0])throw new Error("Attempt to multicast a unicast stream. Create a multicast stream with stream.broadcast().");return this[0]=t,this.input.pipe(this),t},map:function(t){return new Xt(this,t)},filter:function(t){return new Yt(this,t)},take:function(t){return new Kt(this,t)},each:function(t){return new Jt(this,t)},reduce:function(t,e){return new Zt(this,t,e)},scan:function(t,e){return new Qt(this,t,e)},stop:function(){return nn(this.input,this),this}});function Xt(t,e){this.input=t,this.fn=e}Xt.prototype=k(j(f.prototype),{push:function(e){let n=this.fn;z(this,n(e))}});function Yt(t,e){this.input=t,this.fn=e}Yt.prototype=k(j(f.prototype),{push:function(e){this.fn(e)&&z(this,e)}});function on(t,e){this.input=t,this.fn=e}on.prototype=k(j(f.prototype),{push:function(e){let o=this.fn(e);if(o!==void 0)if(dt(o))for(let r of o)r!==void 0&&z(this,r);else throw new Error("Cannot .flatMap() non-iterable values")}});function Kt(t,e){this.input=t,this.count=e}Kt.prototype=k(j(f.prototype),{push:function(e){z(this,e),--this.count||this.stop()}});function Zt(t,e,n){this.input=t,this.fn=e,this.value=n}Zt.prototype=k(j(f.prototype),{push:function(t){let e=this.fn;this.value=e(this.value,t)}});function Qt(t,e,n){this.input=t,this.fn=e,this.value=n}Qt.prototype=k(j(f.prototype),{push:function(t){let n=this.fn(this.value,t);z(this,n)}});function Jt(t,e){this.input=t,this.push=e,t.pipe(this)}Jt.prototype=k(j(f.prototype),{each:null,pipe:null});var rn=Object.assign,sn=Object.create;function q(t,e){f.apply(this,arguments)}q.prototype=rn(sn(f.prototype),{push:function(t){if(t!==void 0){let e=-1;for(;this[++e];)this[e].push(t)}},pipe:function(t){let e=-1;for(;this[++e];);return this[e]=t,e===0&&this.input.pipe(this),t}});var ee=Object.assign,ne=Object.keys;function te(t,e,n){let o=t.values,r=t.names,i=t[0];o[e]=n,(t.active||(t.active=ne(o).length===r.length))&&i.push(ee({},o))}function Z(t){this.sources=t}ee(Z.prototype,m.prototype,{pipe:function(t){let e=this.sources;this.values={},this.names=ne(e),this.active=!1,this[0]=t;for(let n in e){let o=e[n];o.each?t.done(o.each(r=>te(this,n,r))):o.then?o.then(r=>te(this,n,r)):console.log("Todo: combine() raw values ?")}}});var cn=Object.assign;function Q(t){this.inputs=t}cn(Q.prototype,m.prototype,{pipe:function(t){let e=this.inputs;this[0]=t;let n=-1,o;for(;o=e[++n];)if(o.each)o.pipe(t);else if(o.then)o.then(r=>t.push(r));else{let r=-1;for(;++r<o.length;)t.push(o[r])}}});var ht=Array.prototype,un=Object.assign;function an(t){return t.length>0}function ln(t,e,n){return t[n]=e.shift(),t}function pn(t){return[]}function mt(t,e,n,o){n.push(o),e.every(an)&&t.push(e.reduce(ln,{}))}function J(t){this.inputs=t,this.buffers=ht.map.call(t,pn)}un(J.prototype,m.prototype,{pipe:function(t){let e=this.inputs,n=this.buffers;this[0]=t,ht.forEach.call(e,(o,r)=>{let i=n[r];o.each?t.done(o.each(s=>mt(t,n,i,s))):o.then?o.then(s=>mt(t,n,i,s)):ht.forEach.call(o,s=>mt(t,n,i,s))})}});var oe=Object.assign,b=oe(f,{broadcast:function(e){return new q(new C(A),e)},combine:function(e){return new f(new Z(e))},merge:function(){return new f(new Q(arguments))},zip:function(){return new f(new J(arguments))}});oe(f.prototype,{broadcast:function(t){return new q(this,t)}});function x(t,e){return function(){let o=t.apply(this,arguments),r=e[o]||e.default;if(!r)throw new Error('overload() no handler for "'+o+'"');return r.apply(this,arguments)}}var fn=x(F,{is:v,tag:v,html:function(t,e,n){e.innerHTML=n},text:function(t,e,n){e.textContent=n},children:function(t,e,n){e.innerHTML="",n.forEach(o=>{e.appendChild(o)})},points:G,cx:G,cy:G,r:G,preserveAspectRatio:G,viewBox:G,default:function(t,e,n){t in e?e[t]=n:e.setAttribute(t,n)}});function G(t,e,n){e.setAttribute(t,n)}function dn(t,e){for(var n=Object.keys(e),o=n.length;o--;)fn(n[o],t,e[n[o]]);return t}var gt=w(dn,!0);var mn="http://www.w3.org/2000/svg",re=document.createElement("div");var ie=(t,e)=>e&&typeof e;function se(t,e){let n=document.createRange();return n.selectNode(t),n.createContextualFragment(e)}function S(t,e){var n=document.createElementNS(mn,t);return e&&(n.innerHTML=e),n}var hn=x(F,{comment:function(t,e){return document.createComment(e||"")},fragment:x(ie,{string:function(t,e,n){if(n)return se(n,e);let o=document.createDocumentFragment();re.innerHTML=e;let r=re.childNodes;for(;r[0];)o.appendChild(r[0]);return o},object:function(t,e,n){let o=n?se(n):document.createDocumentFragment();return typeof e.length=="number"?o.append.apply(o,e):gt(o,e),o},default:()=>document.createDocumentFragment()}),text:function(t,e){return document.createTextNode(e||"")},circle:S,ellipse:S,g:S,glyph:S,image:S,line:S,rect:S,use:S,path:S,pattern:S,polygon:S,polyline:S,svg:S,default:x(ie,{string:function(t,e){let n=document.createElement(t);return n.innerHTML=e,n},object:function(t,e){let n=document.createElement(t);return typeof e.length=="number"?n.append.apply(n,e):gt(n,e),n},default:t=>{if(typeof t!="string")throw new Error('create(tag, content) accepts only a string as tag "'+typeof t+'"');return document.createElement(t)}})}),y=hn;function H(t){if(typeof t!="object"||arguments.length>1)throw new Error("delegate() now takes an object of selector:fn pairs.");let e=Object.keys(t);return function(o){let r=o.target,i=-1;for(;e[++i];){let s=r.closest(e[i]);if(s)return t[e[i]](s,...arguments)}}}function wt(t,e,n){let o;typeof n!="string"&&n.input!==void 0&&n.index!==void 0&&(o=n,n=o.input.slice(n.index+n[0].length+(n.consumed||0)));let r=t.exec(n);if(!r)return;let i=e(r);return o&&(o.consumed=(o.consumed||0)+r.index+r[0].length+(r.consumed||0)),i}var Gr=w(wt,!0);function gn(t,e,n){throw n.input!==void 0&&n.index!==void 0&&(n=n.input),new Error('Cannot parse string "'+n+'"')}function wn(t,e,n){let o=-1;for(;++o<n.length;)e=n[o]!==void 0&&t[o]?t[o](e,n):e;return t.done?t.done(e,n):t.close?t.close(e,n):e}function vn(t,e,n,o){let r=wt(t,i=>wn(e,n,i),o);return r===void 0?e.catch?e.catch(n,o):gn(t,e,o):r}var ce=w(vn,!0);var vt=v;var T=Symbol("internals"),M=Symbol("shadow"),ue=Object.defineProperties,yn={a:HTMLAnchorElement,dl:HTMLDListElement,p:HTMLParagraphElement,br:HTMLBRElement,fieldset:HTMLFieldSetElement,hr:HTMLHRElement,img:HTMLImageElement,li:HTMLLIElement,ol:HTMLOListElement,optgroup:HTMLOptGroupElement,q:HTMLQuoteElement,textarea:HTMLTextAreaElement,td:HTMLTableCellElement,th:HTMLTableCellElement,tr:HTMLTableRowElement,tbody:HTMLTableSectionElement,thead:HTMLTableSectionElement,tfoot:HTMLTableSectionElement,ul:HTMLUListElement},bn={name:{set:function(t){return this.setAttribute("name",t)},get:function(){return this.getAttribute("name")||""}},form:{get:function(){return this[T].form}},labels:{get:function(){return this[T].labels}},validity:{get:function(){return this[T].validity}},validationMessage:{get:function(){return this[T].validationMessage}},willValidate:{get:function(){return this[T].willValidate}},checkValidity:{value:function(){return this[T].checkValidity()}},reportValidity:{value:function(){return this[T].reportValidity()}}},xn={},ae={once:!0},En=0,le=!1;function Sn(t){return yn[t]||window["HTML"+t[0].toUpperCase()+t.slice(1)+"Element"]||(()=>{throw new Error('Constructor not found for tag "'+t+'"')})()}var Tn=ce(/^\s*<?([a-z][\w]*-[\w]+)>?\s*$|^\s*<?([a-z][\w]*)\s+is=["']?([a-z][\w]*-[\w]+)["']?>?\s*$/,{1:(t,e)=>({name:e[1]}),2:(t,e)=>({name:e[3],tag:e[2]}),catch:function(t,e){throw new SyntaxError(`dom element() – name must be of the form 'element-name' or 'tag is="element-name"' (`+e+")")}},null);function Pn(t,e){if(t.hasOwnProperty(e)){let n=t[e];delete t[e],t[e]=n}return t}function Ln(t,e){t._initialLoad=!0;let n=t.attachShadow({mode:e.mode||"closed",delegatesFocus:e.focusable||!1});if(e.stylesheet){let o=y("link",{rel:"stylesheet",href:e.stylesheet});n.append(o)}return t[M]=n,n}function Fn(t){var e;if(t.attachInternals){if(e=t.attachInternals(),e.setFormValue)return e}else e={shadowRoot:t.shadowRoot};return e.input=y("input",{type:"hidden",name:t.name}),t.appendChild(e.input),e.setFormValue=function(n){this.input.value=n},e}function On(t){t._initialAttributes={},t._n=0}function kn(t,e,n){let o=t._initialAttributes;for(;t._n<e.length&&o[e[t._n]]!==void 0;)n[e[t._n]].call(t,o[e[t._n]]),++t._n}function pe(t,e,n){if(!t._initialAttributes)return;let o=t._initialAttributes;for(;t._n<e.length;)o[e[t._n]]!==void 0&&n[e[t._n]]&&n[e[t._n]].call(t,o[e[t._n]]),++t._n;delete t._initialAttributes,delete t._n}function An(t){return!!t.attribute}function Cn(t){return t.set||t.get||t.hasOwnProperty("value")}function fe(t,e){return An(e[1])&&(t.attributes[e[0]]=e[1].attribute),Cn(e[1])&&(t.properties[e[0]]=e[1]),t}function yt(t,e,n){let{name:o,tag:r}=Tn(t),i=typeof r=="string"?Sn(r):HTMLElement,{attributes:s,properties:a}=n?Object.entries(n).reduce(fe,{attributes:{},properties:{}}):e.properties?Object.entries(e.properties).reduce(fe,{attributes:{},properties:{}}):xn;function u(){let c=Reflect.construct(i,arguments,u),l=e.construct&&e.construct.length>En?Ln(c,e):void 0,g=u.formAssociated&&Fn(c);return r&&(le=!0),e.construct&&e.construct.call(c,l,g),s&&(On(c),Promise.resolve(1).then(function(){pe(c,u.observedAttributes,s)})),a&&Object.keys(a).reduce(Pn,c),c}return u.prototype=Object.create(i.prototype,a),a&&a.value&&(u.formAssociated=!0,ue(u.prototype,bn),(e.enable||e.disable)&&(u.prototype.formDisabledCallback=function(c){return c?e.disable&&e.disable.call(this,this[M],this[T]):e.enable&&e.enable.call(this,this[M],this[T])}),e.reset&&(u.prototype.formResetCallback=function(){return e.reset.call(this,this[M],this[T])}),e.restore&&(u.prototype.formStateRestoreCallback=function(){return e.restore.call(this,this[M],this[T])})),s&&(u.observedAttributes=Object.keys(s),u.prototype.attributeChangedCallback=function(c,l,g){if(!this._initialAttributes)return s[c].call(this,g);this._initialAttributes[c]=g,kn(this,u.observedAttributes,s)}),u.prototype.connectedCallback=function(){let c=this,l=c[M],g=c[T];if(c._initialAttributes&&pe(c,u.observedAttributes,s),c._initialLoad){let P=l.querySelectorAll('link[rel="stylesheet"]');if(P.length){let h=0,d=P.length,O=function(De){++h>=P.length&&(delete c._initialLoad,e.load&&(vt("element()","loaded",Array.from(P).map(Ie=>Ie.href).join(`
`)),e.load.call(c,l)))},Me=O;for(;d--;)P[d].addEventListener("load",O,ae),P[d].addEventListener("error",Me,ae);e.connect&&e.connect.call(this,l,g)}else e.connect&&e.connect.call(this,l,g),e.load&&e.load.call(this,l,g)}else e.connect&&e.connect.call(this,l,g)},e.disconnect&&(u.prototype.disconnectedCallback=function(){return e.disconnect.call(this,this[M],this[T])}),vt("element()","<"+(r?r+" is="+o:o)+">"),window.customElements.define(o,u,r&&{extends:r}),r&&!le&&document.querySelectorAll('[is="'+o+'"]').forEach(c=>{ue(c,a),e.construct&&e.construct.apply(c);let l;for(l in s){let g=c.attributes[l];g&&s[l].call(c,g.value)}e.connect&&e.connect.apply(c)}),u}function tt(t){function e(n,o){if(t.getState(n)!==o)return t[o?"enable":"disable"](n)}return{attribute:function(n){return e(this,n!==null)},set:function(n){return e(this,!!n)},get:function(){return t.getState(this)}}}function bt(t,e){t.remove&&t.remove(e);let n;for(;(n=t.indexOf(e))!==-1;)t.splice(n,1);return e}var Qr=w(bt,!0);var jn=Array.prototype,Hn=Object.assign;function Mn(t,e){let n=t.tokens.slice(),o=jn.slice.apply(e),r=n.length;for(;r--;)o.includes(n[r])&&n.splice(r,1);t.remove.apply(t,n),t.add.apply(t,o)}function xt(t,e){this.element=t,this.definitions=e,this.tokens=[]}Hn(xt.prototype,{add:function(){let t=arguments.length;for(;t--;){let e=arguments[t];!this.tokens.includes(e)&&this.definitions[e]&&(this.definitions[e].enable(this.element),this.tokens.push(e))}},remove:function(){let t=arguments.length;for(;t--;){let e=arguments[t];this.tokens.includes(e)&&(this.definitions[e].disable(this.element),bt(this.tokens,e))}},supports:function(t){return!!this.definitions[t]}});function Et(t){var e;function n(o,r){e=e||new xt(o,t),Mn(e,r.trim().split(/\s+/))}return{attribute:function(o){n(this,o||"")},set:function(o){n(this,o+"")},get:function(){return e=e||new xt(this,t),e}}}var Bn=Object.assign,Dn=/\s+/;function de(t){return t.which===1&&!t.ctrlKey&&!t.altKey&&!t.shiftKey}var me=0;window.addEventListener("click",t=>me=t.timeStamp);function In(t,e){return t.node.addEventListener(e,t,t.options),t}function zn(t,e){return t.node.removeEventListener(e,t),t}function he(t,e,n){this.types=t.split(Dn),this.options=e,this.node=n,this.select=e&&e.select}Bn(he.prototype,m.prototype,{pipe:function(t){this[0]=t,this.types.reduce(In,this)},handleEvent:function(t){if(!(t.type==="click"&&t.timeStamp<=me)){if(this.select){let e=t.target.closest(this.select);if(!e)return;t.selectedTarget=e}this[0].push(t)}},stop:function(){this.types.reduce(zn,this),m.prototype.stop.apply(this,arguments)}});function L(t,e){let n;return typeof t=="object"&&(n=t,t=n.type),new b(new he(t,n,e))}function Gn(t,e){return e[t]}var et=w(Gn,!0);function St(t){return typeof t}var _n=/^\s*([+-]?\d*\.?\d+)([^\s\d]*)\s*$/;function Rn(t,e){if(typeof e=="number")return e;var n=_n.exec(e);if(!n||!t[n[2]||""]){if(!t.catch)throw new Error('Cannot parse value "'+e+'" with provided units '+Object.keys(t).join(", "));return n?t.catch(parseFloat(n[1]),n[2]):t.catch(parseFloat(e))}return t[n[2]||""](parseFloat(n[1]))}var nt=w(Rn);var Vn=/px$/,ge={"transform:translateX":function(t){var e=U("transform",t);if(!e||e==="none")return 0;var n=ot(e);return parseFloat(n[4])},"transform:translateY":function(t){var e=U("transform",t);if(!e||e==="none")return 0;var n=ot(e);return parseFloat(n[5])},"transform:scale":function(t){var e=U("transform",t);if(!e||e==="none")return 0;var n=ot(e),o=parseFloat(n[0]),r=parseFloat(n[1]);return Math.sqrt(o*o+r*r)},"transform:rotate":function(t){var e=U("transform",t);if(!e||e==="none")return 0;var n=ot(e),o=parseFloat(n[0]),r=parseFloat(n[1]);return Math.atan2(r,o)}};function ot(t){return t.split("(")[1].split(")")[0].split(/\s*,\s*/)}function U(t,e){return window.getComputedStyle?window.getComputedStyle(e,null).getPropertyValue(t):0}function rt(t,e){if(ge[t])return ge[t](e);var n=U(t,e);return typeof n=="string"&&Vn.test(n)?parseFloat(n):n}var it,st;function qn(){if(!it){let t=document.documentElement.style.fontSize;document.documentElement.style.fontSize="100%",it=rt("font-size",document.documentElement),document.documentElement.style.fontSize=t||""}return it}function Un(){return st||(st=rt("font-size",document.documentElement)),st}window.addEventListener("resize",()=>{it=void 0,st=void 0});var B=x(St,{number:F,string:nt({em:function(t){return qn()*t},px:function(t){return t},rem:function(t){return Un()*t},vw:function(t){return window.innerWidth*t/100},vh:function(t){return window.innerHeight*t/100},vmin:function(t){return window.innerWidth<window.innerHeight?window.innerWidth*t/100:window.innerHeight*t/100},vmax:function(t){return window.innerWidth<window.innerHeight?window.innerHeight*t/100:window.innerWidth*t/100}})}),we=B;var Tt=Object.assign,ct={threshold:4,ignoreTags:{textarea:!0,input:!0,select:!0}};function Wn(t,e,n){var o=n.clientX-e.clientX,r=n.clientY-e.clientY;return!(o*o+r*r<t*t)}function ve(t,e,n){this.stream=t,this.events=e,this.options=n,this.pointerId=e[0].pointerId,this.threshold=we(n.threshold),document.addEventListener("pointermove",this),document.addEventListener("pointerup",this),document.addEventListener("pointercancel",this),this.threshold===0&&this.createGesture()}Tt(ve.prototype,{handleEvent:x(et("type"),{pointermove:function(t){if(this.pointerId!==t.pointerId){console.log("Not the same pointer");return}this.events.push(t),!this.isGesture&&Wn(this.threshold,this.events[0],t)?this.createGesture():t.preventDefault()},default:function(t){if(this.pointerId!==t.pointerId){console.log("Not the same pointer");return}this.events.push(t),this.stop()}}),createGesture:function(){this.isGesture=!0,this.stream.push(new b(t=>{t.push.apply(t,this.events),this.events=t}))},stop:function(){this.events.stop&&this.events.stop(),document.removeEventListener("pointermove",this),document.removeEventListener("pointerup",this),document.removeEventListener("pointercancel",this)}});function Nn(t){var e=t.target.tagName;return e&&(!!ct.ignoreTags[e.toLowerCase()]||t.target.draggable)}function ye(t,e){this.node=t,this.options=e,this.node.addEventListener("pointerdown",this)}Tt(ye.prototype,m.prototype,{handleEvent:function(t){if(t.button===0&&!(this.options.device&&!this.options.device.includes(t.pointerType))&&!Nn(t)&&!(this.options.selector&&!t.target.closest(this.options.selector))){var e={type:t.type,target:t.target,currentTarget:t.currentTarget,clientX:t.clientX,clientY:t.clientY,timeStamp:t.timeStamp,pointerId:t.pointerId};new ve(this[0],[e],this.options)}},stop:function(){this.node.removeEventListener("pointerdown",this),m.prototype.stop.apply(this,arguments)}});function Pt(t,e){return t=e&&t?Tt({},ct,t):ct,e=e||t,new b(new ye(e,t))}var $n=Object.assign,Xn={capture:!0,passive:!0},W={minScrollEventInterval:.0375,maxScrollEventInterval:.18},be=W.maxScrollEventInterval;function Yn(t){let e=t.length,n=0;for(;--e;){let o=t[e]-t[e-1];n=o>n?o:n}n=n<W.minScrollEventInterval?W.minScrollEventInterval:n,be=1.4*n>W.maxScrollEventInterval?W.maxScrollEventInterval:1.4*n}function Kn(t,e){let{times:n}=t;t.value.stop(),t.value=void 0,n.length>1&&Yn(n),n.length=0}function xe(t){this.element=t,this.times=[]}$n(xe.prototype,m.prototype,{pipe:function(t){this.stream=t,this.element.addEventListener("scroll",this,Xn)},handleEvent:function(t){let e=t.timeStamp/1e3;this.times.push(e),this.value?(clearTimeout(this.timer),this.value.push(t)):(this.value=b.of(t),this.stream.push(this.value)),this.timer=setTimeout(Kn,be*1e3,this,t)},stop:function(){this.element.removeEventListener("scroll",this),m.prototype.stop.apply(this,arguments)}});function Lt(t){return new b(new xe(t))}var p=Symbol("data");var Ft=Object.assign,Zn=window.CustomEvent,Ot={bubbles:!0,cancelable:!0};function kt(t,e){let n;typeof t=="object"&&(n=Ft({},Ot,t),t=n.type,delete n.type),e&&e.detail&&(n?n.detail=e.detail:n=Ft({detail:e.detail},Ot));var o=new Zn(t,n||Ot);return e&&(delete e.detail,Ft(o,e)),o}function At(t,e){let n;typeof t=="object"&&(n=t,t=n.type,delete n.type);let o=kt(t,n);return e.dispatchEvent(o)}var Ai=w(At,!0);function Ee(t){let e=E(t),n=window.getComputedStyle(t,null),o=B(n.getPropertyValue("padding-left")),r=B(n.getPropertyValue("padding-right"));return e.leftPadding=e.left+o,e.rightPadding=e.left+e.width-r,e.centrePadding=e.leftPadding+(e.width-o-r)/2,e}function Se(t){let e=window.getComputedStyle(t,null).getPropertyValue("scroll-snap-align");return e.endsWith("start")?"left":e.endsWith("end")?"right":"centre"}function Te(t,e,n){let o=Ee(t),r=E(e),i=Se(e);t.scrollTo({top:t.scrollTop,left:t.scrollLeft+(i==="left"?r.left-o.leftPadding:i==="right"?r.right-o.rightPadding:r.left+r.width/2-o.centrePadding),behavior:n})}function Ct(t,e,n){Te(t,e,"smooth")}function N(t,e){t.style.setProperty("scroll-behavior","auto","important"),Te(t,e,"auto"),t.style.setProperty("scroll-behavior","")}function Qn(t,e){let{leftPadding:n,rightPadding:o,centrePadding:r}=Ee(t),i=e.length,s;for(;s=e[--i];){let a=E(s);if(!a)continue;let u=Se(s),c=a.width/2+(u==="left"?n:u==="right"?o:r);if((u==="left"?a.left:u==="right"?a.right:a.left+a.width/2)<=c)break}return s}function Jn(t){return!!t.dataset.slideIndex}function _(t){let{scroller:e,children:n,elements:o}=t,r=Qn(e,o),i;Jn(r)?(i=n[r.dataset.slideIndex],N(e,i)):i=r,i!==t.active&&(t.active=i,i!==void 0&&(t.actives.push(i),At("slide-active",i)))}var Pe=x((t,e)=>e.type,{pointerdown:function(t,e){return t.e0=e,t.x0=e.clientX,t.y0=e.clientY,t},pointermove:function(t,e){let n=e.clientX,o=e.clientY;if(!t.gesturing){if(Math.abs(n-t.x0)<Math.abs(o-t.y0)){t.pointers.stop(),t.pointers=void 0,t.e0=void 0,t.x0=void 0,t.y0=void 0;return}t.scrollLeft0=t.scroller.scrollLeft,t.scroller.style.setProperty("scroll-snap-type","none","important"),t.scroller.style.setProperty("scroll-behavior","auto","important"),t.gesturing=!0}let r=e.clientX-t.x0;return t.scroller.scrollLeft=t.scrollLeft0-r,t},default:function(t,e){let n=t.scroller;t.clickSuppressTime=e.timeStamp;let o=n.scrollLeft;n.style.setProperty("scroll-snap-type","");let r=n.scrollLeft;if(o===r)n.style.setProperty("scroll-behavior","");else{_(t),n.style.setProperty("scroll-snap-type","none","important"),n.scrollLeft=o,n.style.setProperty("scroll-behavior",""),n.scrollTo({top:n.scrollTop,left:r,behavior:"smooth"});let i,s=L({type:"scroll",passive:!0},n).each(()=>{cancelAnimationFrame(i),i=requestAnimationFrame(()=>i=requestAnimationFrame(()=>{n.style.setProperty("scroll-snap-type",""),s.stop()}))})}return t.gesturing=!1,t.e0=void 0,t.x0=void 0,t.y0=void 0,t.pointers=void 0,t.scrollLeft0=void 0,t}});var jt={};V(jt,{disable:()=>ro,enable:()=>oo,getState:()=>io});var to=nt({s:F,ms:t=>t/1e3});function eo(t){let{active:e,children:n,elements:o,host:r}=t,i=o.indexOf(e),s=o[i+1]||n[0];t.autoplay.timer=null,!!s&&(r.active=s)}function no(t){let{active:e,style:n}=t,o=to(window.getComputedStyle(e).getPropertyValue("--slide-duration")||n.getPropertyValue("--slide-duration"));clearTimeout(t.autoplay.timer),t.autoplay.timer=setTimeout(eo,o*1e3,t)}function Le(t){clearTimeout(t.autoplay.timer),t.autoplay.timer=null}function oo(t){let e=t[p],{actives:n}=e,o=e.autoplay={},r=b.merge([!1],L("pointerenter pointerleave",t).map(s=>s.type==="pointerenter")),i=b.merge([t.contains(document.activeElement)],L("focusin focusout",t).map(x(et("type"),{focusin:s=>!0,focusout:s=>t.contains(s.relatedTarget)}))).map((s=>a=>s===a?void 0:s=a)());o.updates=b.combine({active:n,hover:r,focus:i}).each(s=>s.hover||s.focus?Le(e):no(e))}function ro(t){let e=t[p];Le(e),e.autoplay.updates.stop(),e.autoplay=void 0}function io(t){return!!t[p].autoplay}var Bt={};V(Bt,{disable:()=>Mt,enable:()=>Ht,getState:()=>co});var Fe=2400;function Oe(t,e){let n=t.cloneNode(!0);return n.dataset.slideIndex=e,n.removeAttribute("id"),n.setAttribute("aria-hidden","true"),n.tabIndex="-1",n}function so(t){let{active:e,children:n,host:o,scroller:r}=t;if(n.length<2)return;let i=n.map(E),s=i[0].left,a=i[i.length-1].right,u=0;for(;i[++u]&&i[u].left<s+Fe;);let c=n.slice(0,u).map(Oe);for(u=i.length-1;i[--u]&&i[u].right>a-Fe;);let l=n.slice(++u).map((g,P)=>Oe(g,u+P));o.prepend.apply(o,l),o.append.apply(o,c),t.loop.prepends=l,t.loop.appends=c,N(r,e||n[0])}function Ht(t){let e=t[p],{mutations:n}=e,o=e.loop={};!e.loaded||(o.mutations=n.map(r=>r).each(()=>so(e)))}function Mt(t){let e=t[p];e.loop&&(e.loop.prepends&&e.loop.prepends.forEach(n=>n.remove()),e.loop.appends&&e.loop.appends.forEach(n=>n.remove()),e.loop.mutations.stop(),e.loop=void 0)}function co(t){return!!t[p].loop}var Dt={};V(Dt,{disable:()=>ao,enable:()=>uo,getState:()=>lo});function R(t){if(!t.controls){let e=y("nav",{part:"controls"});t.shadow.append(e),t.controls=e}}function Ae(t,e,n,o){o===0?t.hidden=!0:t.hidden=!1,o===n.length-1?e.hidden=!0:e.hidden=!1}function ke(t){let{active:e,elements:n,navigation:{prev:o,next:r}}=t,i=n.indexOf(e);Ae(o,r,n,i)}function uo(t){let e=t[p],{actives:n,clicks:o,mutations:r}=e;R(e);let i=e.navigation={prev:y("button",{part:"prev-button",type:"button",name:"navigation",value:"-1",html:"Previous"}),next:y("button",{part:"next-button",type:"button",name:"navigation",value:"1",html:"Next"})};e.controls.prepend(i.prev,i.next),i.mutations=r.each(()=>ke(e)),i.actives=n.each(()=>ke(e)),i.clicks=o.each(H({'[name="navigation"]':function(s,a){let u=parseFloat(s.value),c=e.elements.indexOf(e.active)+u,l=e.elements[c];!l||(t.active=l,Ae(i.prev,i.next,e.elements,c))}}))}function ao(t){let e=t[p];e.navigation.prev.remove(),e.navigation.next.remove(),e.navigation.mutations.stop(),e.navigation.actives.stop(),e.navigation.clicks.stop(),e.navigation=void 0}function lo(t){return!!t[p].navigation}var It={};V(It,{disable:()=>mo,enable:()=>fo,getState:()=>ho});function Ce(t,e,n){let{active:o,buttons:r,index:i}=t;if(o===n)return;i>-1&&(t.activeSpan.remove(),r.children[i].part.remove("page-button-active"));let s=e.indexOf(n);s!==-1&&(r.children[s].part.add("page-button-active"),r.children[s].append(t.activeSpan),t.index=s,t.active=n)}function po(t,e,n,o){e.buttons&&(e.buttons.remove(),e.buttons=void 0),!(o.length<2)&&(e.buttons=y("div",{part:"pagination",children:o.map((r,i)=>y("button",{part:"page-button",type:"button",name:"pagination",value:i}))}),t.append(e.buttons))}function fo(t){let e=t[p],{shadow:n,actives:o,clicks:r,mutations:i}=e;R(e);let s=e.pagination={activeSpan:y("span",{class:"invisible",text:"(Current slide)"})};s.mutations=i.each(()=>po(e.controls,s,n,e.children.filter(a=>!a.dataset.slideIndex))),s.actives=o.each(()=>Ce(s,e.children.filter(a=>!a.dataset.slideIndex),e.active)),s.clicks=r.each(H({'[name="pagination"]':function(a,u){let{host:c}=e,l=e.children.filter(P=>!P.dataset.slideIndex),g=l[a.value];!g||(c.active=g,Ce(s,l,g))}}))}function mo(t){let e=t[p];e.pagination.buttons.remove(),e.pagination.mutations.stop(),e.pagination.actives.stop(),e.pagination.clicks.stop(),e.pagination=void 0}function ho(t){return!!t[p].pagination}var Gt={};V(Gt,{disable:()=>wo,enable:()=>go,getState:()=>vo});var je=document.fullscreenEnabled||document.mozFullscreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled;function zt(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement}function He(t){return t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.msRequestFullscreen?t.msRequestFullscreen():void 0}function ut(){document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()}function go(t){let e=t[p];if(!je)return;R(e);let n=e.fullscreen={button:y("button",{part:"fullscreen-button",type:"button",name:"fullscreen",html:"Open in fullscreen"})};e.controls.append(n.button),n.clicks=e.clicks.each(H({'[name="fullscreen"]':(o,r)=>{let i=zt();if(i===t){ut(),n.button.part.remove("fullscreen-button-active"),n.button.innerHTML="Open in fullscreen";return}i&&ut(),He(t),n.button.part.add("fullscreen-button-active"),n.button.innerHTML="Close fullscreen"}}))}function wo(t){let e=t[p];zt()===t&&ut(),e.fullscreen.button.remove(),e.fullscreen.clicks.stop(),e.fullscreen=void 0}function vo(t){return!!t[p].fullscreen}function yo(t,e,n){let o=n.length,r=-1/0;for(;o--;){let c=E(n[o]),l=c.x+c.width;r=l>r?l:r}let i=E(e),s=getComputedStyle(t),a=B(s.paddingLeft),u=B(s.paddingRight);return a+u+r-i.x}function _t(t,e,n){let o=yo(t,e,n);t.style.setProperty("--scroll-width",o+"px")}function bo(t){return!t.dataset.slideIndex}var xo={stylesheet:window.customElementStylesheetPath&&window.customElementStylesheetPath+"slide-show.shadow.css"||window.elementSlideShowStylesheet||import.meta.url.replace(/\/[^\/]*([?#].*)?$/,"/")+"shadow.css",construct:function(t){let e=y("slot",{part:"slides"}),n=y("div",{class:"scroller",children:[e]}),o=y("slot",{part:"ui",name:"ui"});t.append(n,o);let r=L("slotchange",e).broadcast(),i=b.broadcast({memory:!0}),s=L("click",t).filter(de).broadcast(),a=L("focusin",this),u=L("resize",window),c=L("fullscreenchange",window),l=Lt(n),g=Pt({threshold:"0.25rem",device:"mouse"},t).filter(()=>h.children.length>1),P=b.broadcast({memory:!0}),h=this[p]={clickSuppressTime:-1/0,host:this,style:window.getComputedStyle(this),elements:A,children:A,shadow:t,scroller:n,slides:e,actives:P,slotchanges:r,mutations:i,clicks:s};r.each(()=>{let d=e.assignedElements();h.elements=d,_t(h.scroller,h.slides,h.elements);let O=h.elements.filter(bo);Nt(h.children,O)||(h.children=O,i.push(O))}),u.each(()=>_t(h.scroller,h.slides,h.elements)),s.each(function(d){window.performance.now()-h.clickSuppressTime<120&&(d.preventDefault(),d.stopPropagation())}),g.each(d=>{h.pointers=d,d.reduce(Pe,h)}),c.each(d=>{(d.target===this||d.target.contains(this))&&N(n,h.active)}),l.each(d=>d.each(v).done(()=>_(h))),a.map(d=>h.children.indexOf(d.target)!==-1?d.target:h.children.find(O=>O.contains(d.target))).each(d=>Ct(h.scroller,d))},load:function(t){let e=this[p];e.loaded=!0,this.loop?Ht(this):Mt(this),_t(e.scroller,e.slides,e.elements),_(e),e.slotchanges.each(()=>_(e))}},Eo={active:{set:function(t){let e=this[p],n=typeof t!="object"?this.querySelector("#"+(/^\d/.test((id+"")[0])?"\\3"+(id+"")[0]+" "+(id+"").slice(1):t)):t;if(!n)throw new Error("Cannot set active – not a child of slide-show");Ct(e.scroller,n)},get:function(){return this[p].active}},autoplay:tt(jt),controls:Et({navigation:Dt,pagination:It,fullscreen:Gt}),loop:tt(Bt)},Cs=yt("slide-show",xo,Eo);export{Cs as default};
//# sourceMappingURL=element.js.map
